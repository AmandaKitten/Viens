# Day17 你知道vue的双向数据绑定的原理吗？

MVVM数据双向绑定，分为两个部分：数据变化同步更新视图，视图变化同步更新数据

具体表现为:

- 用户在页面输入内容（如输入框内容变化），data中的数据同步变化，实现view ->model 的变化
- data中数据变化，文本节点的内容同步变化，此时实现model -> view 的变化



原理：

​	每个vue属性用`Object.defineProperty（）`实现数据劫持，为每个属性分配一个订阅者集合的管理数组dep；

　　然后在编译的时候在该属性的数组dep中添加订阅者，`v-model`会添加一个订阅者，`{{}}`也会，`v-bind`也会，只要用到该属性的指令理论上都会；

  接着为`input`添加监听事件，修改值就等于为该属性赋值，则会触发该属性的`set`方法，在`set`方法内通知订阅者数组dep，订阅者数组循环调用各订阅者的`update`方法更新视图。